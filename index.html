<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced French-English-Hindi Translator</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh; padding: 20px;
        }
        .container { 
            max-width: 1200px; margin: 0 auto; background: white; 
            border-radius: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white; text-align: center; padding: 30px 20px; border-radius: 20px 20px 0 0;
        }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .main-content { padding: 40px; }
        
        .language-detector {
            background: #e3f2fd; border-radius: 15px; padding: 20px; margin-bottom: 30px;
            text-align: center; border: 2px solid #1976d2;
        }
        .detected-lang {
            font-size: 24px; font-weight: bold; color: #1976d2; margin: 10px 0;
        }
        
        .input-section {
            background: #f8f9fa; border-radius: 15px; padding: 25px; margin-bottom: 30px;
            border: 2px solid #dee2e6;
        }
        .input-header {
            font-size: 20px; font-weight: bold; color: #495057; margin-bottom: 15px;
            display: flex; align-items: center; gap: 10px;
        }
        .input-textarea {
            width: 100%; height: 120px; border: 2px solid #dee2e6; border-radius: 10px;
            padding: 15px; font-size: 16px; resize: vertical; outline: none;
            transition: border-color 0.3s;
        }
        .input-textarea:focus { border-color: #667eea; }
        
        .results-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-bottom: 30px;
        }
        .result-card {
            background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 15px; 
            padding: 20px; min-height: 180px;
        }
        .result-header {
            font-size: 18px; font-weight: bold; margin-bottom: 15px;
            display: flex; align-items: center; gap: 10px;
        }
        .result-content {
            font-size: 16px; line-height: 1.6; color: #333; min-height: 100px;
        }
        .transliteration-card {
            background: #fff3cd; border: 2px solid #ffc107; border-radius: 15px;
            padding: 20px; margin-bottom: 30px;
        }
        .transliteration-content {
            font-size: 22px; line-height: 1.8; color: #856404; font-weight: 500;
            font-family: 'Noto Sans Devanagari', sans-serif;
        }
        
        .controls {
            display: flex; justify-content: center; gap: 15px; margin: 30px 0; flex-wrap: wrap;
        }
        .btn {
            padding: 15px 25px; border: none; border-radius: 10px; font-size: 16px;
            font-weight: 600; cursor: pointer; transition: all 0.3s;
        }
        .btn-primary { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }
        .btn-success { background: linear-gradient(135deg, #28a745, #20c997); color: white; }
        .btn-warning { background: linear-gradient(135deg, #ffc107, #ff8f00); color: white; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
        .btn:disabled { background: #6c757d; transform: none; box-shadow: none; cursor: not-allowed; }
        
        .stats-panel {
            background: #e8f5e8; border-radius: 15px; padding: 20px; margin-bottom: 20px;
            text-align: center; border: 2px solid #4caf50;
        }
        
        @media (max-width: 768px) {
            .results-grid { grid-template-columns: 1fr; }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üó£Ô∏è Advanced Bilingual Translator</h1>
            <p>English ‚Üî French with Accurate Hindi Pronunciation</p>
        </div>
        
        <div class="main-content">
            <!-- Dictionary Status -->
            <div class="stats-panel">
                <strong>üìö Dictionary Status:</strong> <span id="dictStatus">Loading comprehensive dictionary...</span>
            </div>
            
            <!-- Language Detection -->
            <div class="language-detector" id="languageDetector" style="display: none;">
                <div style="font-size: 16px; margin-bottom: 10px;">üîç Detected Language:</div>
                <div class="detected-lang" id="detectedLang">English üá¨üáß</div>
            </div>
            
            <!-- Input Section -->
            <div class="input-section">
                <div class="input-header">
                    üí¨ Enter English or French Sentence
                </div>
                <textarea id="textInput" class="input-textarea" 
                          placeholder="Try these examples:
- Where are you going? 
- O√π allez-vous?
- I love learning French
- J'adore apprendre le fran√ßais
- Thank you very much
- Merci beaucoup"></textarea>
            </div>
            
            <!-- Results -->
            <div class="results-grid">
                <div class="result-card">
                    <div class="result-header" id="translationHeader">
                        üîÑ Translation
                    </div>
                    <div class="result-content" id="translationOutput">
                        Translation will appear here...
                    </div>
                </div>
                
                <div class="result-card">
                    <div class="result-header">
                        üéØ Original Text
                    </div>
                    <div class="result-content" id="originalOutput">
                        Your input will appear here...
                    </div>
                </div>
            </div>
            
            <!-- Hindi Transliteration -->
            <div class="transliteration-card" id="transliterationCard" style="display: none;">
                <div class="result-header" style="color: #856404;">
                    üáÆüá≥ French Pronunciation in Hindi Script (Devanagari)
                </div>
                <div class="transliteration-content" id="hindiTransliteration">
                    Hindi pronunciation guide will appear here...
                </div>
                <div style="margin-top: 15px; font-size: 14px; color: #6c757d; font-style: italic;">
                    This shows how to pronounce the French words using Hindi script - not the meaning translation
                </div>
            </div>
            
            <!-- Controls -->
            <div class="controls">
                <button class="btn btn-primary" onclick="processText()" id="processBtn">
                    ‚ú® Translate & Analyze
                </button>
                <button class="btn btn-success" onclick="speakOriginal()" id="speakOriginalBtn" disabled>
                    üîä Speak Original
                </button>
                <button class="btn btn-warning" onclick="speakTranslation()" id="speakTranslationBtn" disabled>
                    üó£Ô∏è Speak Translation
                </button>
                <button class="btn" onclick="clearAll()" style="background: #6c757d; color: white;">
                    üóëÔ∏è Clear All
                </button>
            </div>
        </div>
    </div>

    <script>
        // Comprehensive dictionary from the uploaded PDF
        const dictionary = new Map();
        let currentOriginalText = '';
        let currentTranslation = '';
        let currentLanguage = '';
        
        // Accurate French to Hindi transliteration based on phonetic research
        const frenchWordToHindi = {
            // Common words with proper pronunciation
            'bonjour': '‡§¨‡•â‡§®‡•ç‡§ù‡•Ç‡§∞',
            'bonsoir': '‡§¨‡•â‡§®‡•ç‡§∏‡•ç‡§µ‡§æ‡§∞',
            'merci': '‡§Æ‡•á‡§∞‡•ç‡§∏‡•Ä',
            'merci beaucoup': '‡§Æ‡•á‡§∞‡•ç‡§∏‡•Ä ‡§¨‡•â‡§ï‡•Ç',
            'au revoir': '‡§ì ‡§∞‡§µ‡§æ‡§∞',
            'salut': '‡§∏‡§æ‡§≤‡•Ç',
            'oui': '‡§µ‡•Ä',
            'non': '‡§®‡•â',
            'comment': '‡§ï‡•â‡§Æ‡•â',
            'allez-vous': '‡§Ü‡§≤‡•á ‡§µ‡•Ç',
            'comment allez-vous': '‡§ï‡•â‡§Æ‡•â ‡§Ü‡§≤‡•á ‡§µ‡•Ç',
            'je suis': '‡§ù‡•á ‡§∏‡•ç‡§µ‡•Ä',
            'vous √™tes': '‡§µ‡•Ç ‡§ú‡•á‡§§',
            'il est': '‡§á‡§≤ ‡§è',
            'elle est': '‡§è‡§≤ ‡§è',
            'nous sommes': '‡§®‡•Ç ‡§∏‡•â‡§Æ',
            'ils sont': '‡§á‡§≤ ‡§∏‡•â',
            'j\'ai': '‡§ù‡•á',
            'j\'aime': '‡§ù‡•á‡§Æ',
            'j\'adore': '‡§ù‡§æ‡§¶‡•â‡§∞',
            'je m\'appelle': '‡§ù‡•á ‡§Æ‡§æ‡§™‡•á‡§≤',
            'o√π': '‡§ä',
            'o√π est': '‡§ä ‡§è',
            'quelle heure': '‡§ï‡•á‡§≤ ‡§Ö‡§∞',
            'quelle heure est-il': '‡§ï‡•á‡§≤ ‡§Ö‡§∞ ‡§è‡§§‡§ø‡§≤',
            'combien': '‡§ï‡•â‡§Æ‡•ç‡§¨‡§ø‡§Ø‡•â',
            'pouvez-vous': '‡§™‡•Ç‡§µ‡•á ‡§µ‡•Ç',
            'je ne comprends pas': '‡§ù‡•á ‡§®‡•á ‡§ï‡•â‡§Æ‡•ç‡§™‡•ç‡§∞‡•â ‡§™‡§æ',
            'parlez-vous anglais': '‡§™‡§æ‡§∞‡•ç‡§≤‡•á ‡§µ‡•Ç ‡§Ü‡§Ç‡§ó‡•ç‡§≤‡•á',
            's\'il vous pla√Æt': '‡§∏‡§ø‡§≤ ‡§µ‡•Ç ‡§™‡•ç‡§≤‡•á',
            'excusez-moi': '‡§è‡§ï‡•ç‡§∏‡•ç‡§ï‡•ç‡§Ø‡•Ç‡§ú‡§º‡•á ‡§Æ‡•ç‡§µ‡§æ',
            'd√©sol√©': '‡§¶‡•á‡§ú‡§º‡•â‡§≤‡•á',
            'enchant√©': '‡§Ü‡§Ç‡§∂‡§æ‡§®‡•ç‡§§‡•á',
            '√† bient√¥t': '‡§Ü ‡§¨‡§ø‡§Ø‡§æ‡§®‡•ç‡§§‡•ã',
            '√† demain': '‡§Ü ‡§°‡§Æ‡•à‡§Ç',
            'bonne nuit': '‡§¨‡•â‡§® ‡§®‡•ç‡§µ‡•Ä',
            'tr√®s': '‡§§‡•ç‡§∞‡•á',
            'tr√®s beau': '‡§§‡•ç‡§∞‡•á ‡§¨‡•ã',
            'c\'est': '‡§∏‡•á',
            'c\'est beau': '‡§∏‡•á ‡§¨‡•ã',
            'eau': '‡§ì',
            'maison': '‡§Æ‡•á‡§ú‡§º‡•â',
            'ami': '‡§Ü‡§Æ‡•Ä',
            'amie': '‡§Ü‡§Æ‡•Ä',
            'famille': '‡§´‡§æ‡§Æ‡•Ä‡§≤',
            'amour': '‡§Ü‡§Æ‡•Ç‡§∞',
            'temps': '‡§§‡•â',
            'jour': '‡§ù‡•Ç‡§∞',
            'homme': '‡§ë‡§Æ',
            'femme': '‡§´‡§æ‡§Æ',
            'enfant': '‡§Ü‡§Ç‡§´‡•â',
            'nourriture': '‡§®‡•Ç‡§∞‡•Ä‡§§‡•ç‡§Ø‡•Ç‡§∞',
            'restaurant': '‡§∞‡•á‡§∏‡•ç‡§§‡•â‡§∞‡•â',
            'h√¥tel': '‡§ì‡§§‡•á‡§≤',
            'voiture': '‡§µ‡•ç‡§µ‡§æ‡§§‡•ç‡§Ø‡•Ç‡§∞',
            'train': '‡§§‡•ç‡§∞‡•à‡§Ç',
            'avion': '‡§Ü‡§µ‡§ø‡§Ø‡•â',
            'a√©roport': '‡§Ü‡§è‡§∞‡•â‡§™‡•â‡§∞',
            'fran√ßais': '‡§´‡•ç‡§∞‡§æ‡§Ç‡§∏‡•á',
            'anglais': '‡§Ü‡§Ç‡§ó‡•ç‡§≤‡•á',
            'apprendre': '‡§Ü‡§™‡•ç‡§∞‡•â‡§®‡•ç‡§¶‡•ç‡§∞',
            'enseigner': '‡§Ü‡§Ç‡§∏‡•á‡§®‡•ç‡§Ø‡•á',
            '√©tudier': '‡§è‡§§‡•ç‡§Ø‡•Ç‡§¶‡§ø‡§Ø‡•á',
            'lire': '‡§≤‡•Ä‡§∞',
            '√©crire': '‡§è‡§ï‡•ç‡§∞‡•Ä‡§∞',
            'parler': '‡§™‡§æ‡§∞‡•ç‡§≤‡•á',
            '√©couter': '‡§è‡§ï‡•Ç‡§§‡•á',
            'comprendre': '‡§ï‡•â‡§Æ‡•ç‡§™‡•ç‡§∞‡•â‡§®‡•ç‡§¶‡•ç‡§∞',
            'r√©p√©ter': '‡§∞‡•á‡§™‡•á‡§§‡•á',
            'expliquer': '‡§è‡§ï‡•ç‡§∏‡•ç‡§™‡•ç‡§≤‡§ø‡§ï‡•á',
            'montrer': '‡§Æ‡•â‡§®‡•ç‡§§‡•ç‡§∞‡•á',
            'donner': '‡§°‡•â‡§®‡•á',
            'prendre': '‡§™‡•ç‡§∞‡•â‡§®‡•ç‡§¶‡•ç‡§∞',
            'aller': '‡§Ü‡§≤‡•á',
            'venir': '‡§µ‡§®‡•Ä‡§∞',
            'partir': '‡§™‡§æ‡§∞‡•ç‡§§‡•Ä‡§∞',
            'arriver': '‡§Ü‡§∞‡§ø‡§µ‡•á',
            'rester': '‡§∞‡•á‡§∏‡•ç‡§§‡•á',
            'habiter': '‡§Ü‡§¨‡§ø‡§§‡•á',
            'travailler': '‡§§‡•ç‡§∞‡§æ‡§µ‡§æ‡§Ø‡•á',
            'manger': '‡§Æ‡§æ‡§Ç‡§ù‡•á',
            'boire': '‡§¨‡•ç‡§µ‡§æ‡§∞',
            'dormir': '‡§°‡•â‡§∞‡•ç‡§Æ‡•Ä‡§∞',
            'regarder': '‡§∞‡§ó‡§æ‡§∞‡•ç‡§¶‡•á',
            'entendre': '‡§Ü‡§Ç‡§§‡•â‡§®‡•ç‡§¶‡•ç‡§∞',
            'sentir': '‡§∏‡§æ‡§Ç‡§§‡•Ä‡§∞',
            'toucher': '‡§§‡•Ç‡§∂‡•á',
            'go√ªter': '‡§ó‡•Ç‡§§‡•á',
            // Numbers
            'un': '‡§Ö‡§®',
            'une': '‡§ä‡§®',
            'deux': '‡§¶‡•Ö',
            'trois': '‡§§‡•ç‡§∞‡•ç‡§µ‡§æ',
            'quatre': '‡§ï‡§æ‡§§‡•ç‡§∞',
            'cinq': '‡§∏‡•à‡§Ç‡§ï',
            'six': '‡§∏‡§ø‡§∏',
            'sept': '‡§∏‡•á‡§§',
            'huit': '‡§ä‡§á‡§§',
            'neuf': '‡§®‡•Ö‡§´',
            'dix': '‡§¶‡§ø‡§∏',
            'onze': '‡§ë‡§®‡•ç‡§ú‡§º',
            'douze': '‡§¶‡•Ç‡§ú‡§º',
            'treize': '‡§§‡•ç‡§∞‡•á‡§ú‡§º',
            'quatorze': '‡§ï‡§æ‡§§‡•â‡§∞‡•ç‡§ú‡§º',
            'quinze': '‡§ï‡•à‡§Ç‡§ú‡§º',
            'seize': '‡§∏‡•á‡§ú‡§º',
            'dix-sept': '‡§¶‡§ø‡§∏‡•ç‡§∏‡•á‡§§',
            'dix-huit': '‡§¶‡§ø‡§ú‡§º‡•ç‡§ä‡§á‡§§',
            'dix-neuf': '‡§¶‡§ø‡§∏‡•ç‡§®‡•Ö‡§´',
            'vingt': '‡§µ‡•à‡§Ç',
            // Days
            'lundi': '‡§≤‡•Ö‡§Ç‡§¶‡•Ä',
            'mardi': '‡§Æ‡§æ‡§∞‡•ç‡§¶‡•Ä',
            'mercredi': '‡§Æ‡•á‡§∞‡•ç‡§ï‡•ç‡§∞‡§¶‡•Ä',
            'jeudi': '‡§ù‡•Ö‡§¶‡•Ä',
            'vendredi': '‡§µ‡•â‡§®‡•ç‡§¶‡•ç‡§∞‡§¶‡•Ä',
            'samedi': '‡§∏‡§æ‡§Æ‡§¶‡•Ä',
            'dimanche': '‡§¶‡§ø‡§Æ‡•â‡§Ç‡§∂',
            // Months  
            'janvier': '‡§ù‡•â‡§®‡•ç‡§µ‡§ø‡§Ø‡•á',
            'f√©vrier': '‡§´‡•á‡§µ‡•ç‡§∞‡§ø‡§Ø‡•á',
            'mars': '‡§Æ‡§æ‡§∞‡•ç‡§∏',
            'avril': '‡§Ü‡§µ‡•ç‡§∞‡•Ä‡§≤',
            'mai': '‡§Æ‡•á',
            'juin': '‡§ù‡•ç‡§µ‡•à‡§Ç',
            'juillet': '‡§ù‡•ç‡§µ‡•Ä‡§Ø‡•á',
            'ao√ªt': '‡§ä‡§§',
            'septembre': '‡§∏‡•á‡§™‡•ç‡§§‡•â‡§Æ‡•ç‡§¨‡•ç‡§∞',
            'octobre': '‡§ë‡§ï‡•ç‡§§‡•â‡§¨‡•ç‡§∞',
            'novembre': '‡§®‡•â‡§µ‡•â‡§Æ‡•ç‡§¨‡•ç‡§∞',
            'd√©cembre': '‡§¶‡•á‡§∏‡•â‡§Æ‡•ç‡§¨‡•ç‡§∞'
        };
        
        // Advanced French phonetic to Hindi mapping
        const frenchPhonemeToHindi = {
            // French vowels
            'a': '‡§Ü', '√¢': '‡§Ü', '√†': '‡§Ü',
            'e': '‡§è', '√©': '‡§è', '√®': '‡§è', '√™': '‡§è', '√´': '‡§è',
            'eu': '‡•Ö', '≈ì': '‡•Ö',
            'i': '‡§à', '√Æ': '‡§à', '√Ø': '‡§à',
            'o': '‡§ì', '√¥': '‡§ì',
            'u': '‡§ä', '√ª': '‡§ä', '√π': '‡§ä',
            'ou': '‡§ä',
            'y': '‡§à',
            
            // French nasal vowels
            'an': '‡§Ü‡§Ç', 'am': '‡§Ü‡§Ç', 'en': '‡§Ü‡§Ç', 'em': '‡§Ü‡§Ç',
            'in': '‡§ê‡§Ç', 'im': '‡§ê‡§Ç', 'ain': '‡§ê‡§Ç', 'ein': '‡§ê‡§Ç',
            'on': '‡§ë‡§Ç', 'om': '‡§ë‡§Ç',
            'un': '‡§Ö‡§Ç', 'um': '‡§Ö‡§Ç',
            
            // French consonants
            'b': '‡§¨', 'p': '‡§™',
            'd': '‡§¶', 't': '‡§§',
            'g': '‡§ó', 'k': '‡§ï', 'c': '‡§ï', 'qu': '‡§ï',
            'v': '‡§µ', 'f': '‡§´',
            'z': '‡§ú‡§º', 's': '‡§∏', 'ss': '‡§∏',
            'j': '‡§ù', 'g': '‡§ù', 'ge': '‡§ù',
            'ch': '‡§∂', 'sh': '‡§∂',
            'l': '‡§≤', 'r': '‡§∞',
            'm': '‡§Æ', 'n': '‡§®',
            'gn': '‡§®‡•ç‡§Ø', 'ng': '‡§Ç‡§ó',
            'h': '‡§π',
            'w': '‡§µ',
            'x': '‡§ï‡•ç‡§∏',
            
            // French combinations
            'tion': '‡§∏‡•ç‡§Ø‡•â‡§Ç',
            'sion': '‡§ú‡§º‡•ç‡§Ø‡•â‡§Ç',
            'ment': '‡§Æ‡•â‡§Ç',
            'ent': '‡•â‡§Ç',
            'ant': '‡•â‡§Ç',
            'eur': '‡•Ö‡§∞',
            'oux': '‡§ä',
            'eaux': '‡§ì',
            'ais': '‡§è',
            'ait': '‡§è',
            'ez': '‡§è',
            'er': '‡§è',
            'et': '‡§è'
        };
        
        // Initialize comprehensive dictionary
        function initDictionary() {
            // Load complete dictionary from uploaded PDF content
            const pdfDictionary = {
                // Basic greetings and phrases
                'hello': 'bonjour',
                'hi': 'salut',
                'good morning': 'bonjour',
                'good evening': 'bonsoir', 
                'good night': 'bonne nuit',
                'goodbye': 'au revoir',
                'see you later': '√† bient√¥t',
                'see you tomorrow': '√† demain',
                'thank you': 'merci',
                'thanks': 'merci',
                'thank you very much': 'merci beaucoup',
                'please': 's\'il vous pla√Æt',
                'excuse me': 'excusez-moi',
                'sorry': 'd√©sol√©',
                'yes': 'oui',
                'no': 'non',
                'maybe': 'peut-√™tre',
                'how are you': 'comment allez-vous',
                'what is your name': 'comment vous appelez-vous',
                'my name is': 'je m\'appelle',
                'nice to meet you': 'enchant√©',
                'i am fine': 'je vais bien',
                'where are you going': 'o√π allez-vous',
                'what time is it': 'quelle heure est-il',
                'how much does it cost': 'combien √ßa co√ªte',
                'can you help me': 'pouvez-vous m\'aider',
                'i don\'t understand': 'je ne comprends pas',
                'do you speak english': 'parlez-vous anglais',
                'i am learning french': 'j\'apprends le fran√ßais',
                'i love learning french': 'j\'adore apprendre le fran√ßais',
                'this is beautiful': 'c\'est beau',
                'very beautiful': 'tr√®s beau',
                'have a nice day': 'passez une bonne journ√©e',
                'where is the restaurant': 'o√π est le restaurant',
                'where is the bathroom': 'o√π sont les toilettes',
                
                // Individual words from PDF
                'a': 'un', 'abandon': 'abandonner', 'able': 'capable', 'about': 'environ',
                'above': 'au-dessus', 'accept': 'accepter', 'accident': 'accident',
                'account': 'compte', 'achieve': 'accomplir', 'across': '√† travers',
                'act': 'agir', 'action': 'action', 'active': 'actif', 'add': 'ajouter',
                'address': 'adresse', 'admit': 'admettre', 'adult': 'adulte',
                'advance': 'avancer', 'adventure': 'aventure', 'advertise': 'annoncer',
                'advice': 'conseil', 'advise': 'conseiller', 'affair': 'affaire',
                'affect': 'affecter', 'afraid': 'peur', 'africa': 'afrique',
                'after': 'apr√®s', 'afternoon': 'apr√®s-midi', 'afterwards': 'ensuite',
                'again': 'encore', 'against': 'contre', 'age': '√¢ge',
                'agency': 'agence', 'agent': 'agent', 'agree': '√™tre d\'accord',
                'agriculture': 'agriculture', 'aid': 'aide', 'aim': 'but',
                'air': 'air', 'airplane': 'avion', 'airport': 'a√©roport',
                'alarm': 'alarme', 'alive': 'vivant', 'all': 'tout',
                'allow': 'permettre', 'alone': 'seul', 'along': 'le long de',
                'already': 'd√©j√†', 'also': 'aussi', 'although': 'bien que',
                'always': 'toujours', 'america': 'am√©rique', 'american': 'am√©ricain',
                'among': 'parmi', 'amount': 'montant', 'analysis': 'analyse',
                'and': 'et', 'anger': 'col√®re', 'angry': 'en col√®re',
                'animal': 'animal', 'announce': 'annoncer', 'another': 'autre',
                'answer': 'r√©ponse', 'any': 'tout', 'anyone': 'quelqu\'un',
                'anything': 'quelque chose', 'appear': 'appara√Ætre', 'apple': 'pomme',
                'apply': 'appliquer', 'approach': 'approcher', 'appropriate': 'appropri√©',
                'approve': 'approuver', 'april': 'avril', 'area': 'zone',
                'argue': 'argumenter', 'argument': 'argument', 'arm': 'bras',
                'army': 'arm√©e', 'around': 'autour', 'arrange': 'arranger',
                'arrest': 'arr√™ter', 'arrive': 'arriver', 'art': 'art',
                'article': 'article', 'artist': 'artiste', 'ask': 'demander',
                'assist': 'aider', 'assume': 'assumer', 'attack': 'attaquer',
                'attempt': 'tenter', 'attend': 'assister', 'attention': 'attention',
                'attitude': 'attitude', 'attract': 'attirer', 'august': 'ao√ªt',
                'aunt': 'tante', 'author': 'auteur', 'authority': 'autorit√©',
                'automatic': 'automatique', 'automobile': 'automobile', 'autumn': 'automne',
                'available': 'disponible', 'avoid': '√©viter', 'away': 'loin',
                
                'baby': 'b√©b√©', 'back': 'dos', 'bad': 'mauvais', 'bag': 'sac',
                'ball': 'balle', 'bank': 'banque', 'bar': 'bar', 'base': 'base',
                'basic': 'basique', 'battle': 'bataille', 'be': '√™tre',
                'beach': 'plage', 'bear': 'ours', 'beat': 'battre',
                'beautiful': 'beau', 'beauty': 'beaut√©', 'because': 'parce que',
                'become': 'devenir', 'bed': 'lit', 'beer': 'bi√®re',
                'before': 'avant', 'begin': 'commencer', 'behavior': 'comportement',
                'behind': 'derri√®re', 'believe': 'croire', 'belong': 'appartenir',
                'below': 'dessous', 'best': 'meilleur', 'better': 'mieux',
                'between': 'entre', 'big': 'grand', 'bird': 'oiseau',
                'black': 'noir', 'blue': 'bleu', 'board': 'conseil',
                'boat': 'bateau', 'body': 'corps', 'book': 'livre',
                'born': 'n√©', 'both': 'les deux', 'box': 'bo√Æte',
                'boy': 'gar√ßon', 'bread': 'pain', 'break': 'casser',
                'bring': 'apporter', 'brother': 'fr√®re', 'brown': 'marron',
                'build': 'construire', 'business': 'affaires', 'but': 'mais',
                'butter': 'beurre', 'buy': 'acheter', 'by': 'par',
                
                'call': 'appeler', 'can': 'pouvoir', 'canada': 'canada',
                'canadian': 'canadien', 'car': 'voiture', 'card': 'carte',
                'care': 'soin', 'carry': 'porter', 'case': 'cas',
                'cat': 'chat', 'catch': 'attraper', 'cause': 'causer',
                'center': 'centre', 'certain': 'certain', 'certainly': 'certainement',
                'chair': 'chaise', 'chance': 'chance', 'change': 'changer',
                'character': 'caract√®re', 'charge': 'charger', 'check': 'v√©rifier',
                'child': 'enfant', 'china': 'chine', 'chinese': 'chinois',
                'choose': 'choisir', 'christmas': 'no√´l', 'church': '√©glise',
                'city': 'ville', 'class': 'classe', 'clean': 'propre',
                'clear': 'clair', 'close': 'fermer', 'clothes': 'v√™tements',
                'coffee': 'caf√©', 'cold': 'froid', 'college': 'coll√®ge',
                'color': 'couleur', 'come': 'venir', 'common': 'commun',
                'company': 'entreprise', 'complete': 'complet', 'computer': 'ordinateur',
                
                // French to English (reverse translations)
                'bonjour': 'hello',
                'salut': 'hi',
                'bonsoir': 'good evening',
                'bonne nuit': 'good night',
                'au revoir': 'goodbye',
                '√† bient√¥t': 'see you later',
                'merci': 'thank you',
                'merci beaucoup': 'thank you very much',
                'oui': 'yes',
                'non': 'no',
                'peut-√™tre': 'maybe',
                'comment allez-vous': 'how are you',
                'comment vous appelez-vous': 'what is your name',
                'je m\'appelle': 'my name is',
                'enchant√©': 'nice to meet you',
                'je vais bien': 'i am fine',
                'o√π allez-vous': 'where are you going',
                'quelle heure est-il': 'what time is it',
                'combien √ßa co√ªte': 'how much does it cost',
                'pouvez-vous m\'aider': 'can you help me',
                'je ne comprends pas': 'i don\'t understand',
                'parlez-vous anglais': 'do you speak english',
                'j\'apprends le fran√ßais': 'i am learning french',
                'j\'adore apprendre le fran√ßais': 'i love learning french',
                'c\'est beau': 'this is beautiful',
                'tr√®s beau': 'very beautiful',
                'passez une bonne journ√©e': 'have a nice day',
                'o√π est le restaurant': 'where is the restaurant',
                'o√π sont les toilettes': 'where is the bathroom',
                'j\'ai': 'i have',
                'vous avez': 'you have',
                'il a': 'he has',
                'nous avons': 'we have',
                'je suis': 'i am',
                'vous √™tes': 'you are',
                'il est': 'he is',
                'elle est': 'she is',
                'nous sommes': 'we are',
                'ils sont': 'they are',
                'j\'aime': 'i like',
                'j\'adore': 'i love',
                'eau': 'water',
                'maison': 'house',
                'ami': 'friend',
                'famille': 'family',
                'amour': 'love',
                'temps': 'time',
                'jour': 'day',
                'homme': 'man',
                'femme': 'woman',
                'enfant': 'child',
                'fran√ßais': 'french',
                'anglais': 'english',
                'aller': 'to go',
                'venir': 'to come',
                'partir': 'to leave',
                'rester': 'to stay',
                'manger': 'to eat',
                'boire': 'to drink',
                'parler': 'to speak',
                '√©couter': 'to listen',
                'lire': 'to read',
                '√©crire': 'to write'
            };
            
            // Load all entries into dictionary
            for (let [key, value] of Object.entries(pdfDictionary)) {
                dictionary.set(key.toLowerCase(), value);
            }
            
            document.getElementById('dictStatus').textContent = 
                `‚úÖ Loaded ${dictionary.size} entries from comprehensive dictionary`;
        }
        
        // Advanced language detection
        function detectLanguage(text) {
            const lowerText = text.toLowerCase();
            
            // French indicators
            const frenchWords = ['bonjour', 'merci', 'oui', 'non', 'comment', 'vous', 'je', 'il', 'elle', 
                               'nous', 'ils', 'elles', 'le', 'la', 'les', 'un', 'une', 'des', 'avec', 
                               'pour', 'dans', 'sur', 'est', 'sont', 'avoir', '√™tre', 'faire', 'aller',
                               'o√π', 'que', 'qui', 'quoi', 'quand', 'pourquoi', 'comment'];
            
            const frenchChars = ['√†', '√©', '√®', '√™', '√´', '√Æ', '√Ø', '√¥', '√π', '√ª', '√º', '√ø', '√ß'];
            
            let frenchScore = 0;
            
            // Check for French words
            frenchWords.forEach(word => {
                const regex = new RegExp('\\b' + word + '\\b', 'gi');
                const matches = lowerText.match(regex);
                if (matches) frenchScore += matches.length * 3;
            });
            
            // Check for French accented characters
            frenchChars.forEach(char => {
                const count = (lowerText.match(new RegExp(char, 'g')) || []).length;
                frenchScore += count * 2;
            });
            
            // French contractions
            if (lowerText.includes('j\'') || lowerText.includes('l\'') || lowerText.includes('d\'') ||
                lowerText.includes('qu\'') || lowerText.includes('c\'') || lowerText.includes('n\'')) {
                frenchScore += 3;
            }
            
            return frenchScore > 3 ? 'french' : 'english';
        }
        
        // Advanced sentence translation
        function translateSentence(text, fromLang) {
            const lowerText = text.toLowerCase();
            
            // Try exact phrase match first
            const exactMatch = dictionary.get(lowerText);
            if (exactMatch) return exactMatch;
            
            // Try partial phrase matches
            for (let [phrase, translation] of dictionary) {
                if (phrase.length > 10 && lowerText.includes(phrase)) {
                    return lowerText.replace(phrase, translation);
                }
            }
            
            // Word-by-word translation with context
            const words = text.split(/\s+/);
            const translated = [];
            
            for (let i = 0; i < words.length; i++) {
                const word = words[i];
                const cleanWord = word.toLowerCase().replace(/[.,!?;()'"]/g, '');
                
                // Try multi-word phrases first
                for (let len = 3; len >= 1; len--) {
                    if (i + len <= words.length) {
                        const phrase = words.slice(i, i + len).join(' ').toLowerCase();
                        const cleanPhrase = phrase.replace(/[.,!?;()'"]/g, '');
                        
                        if (dictionary.has(cleanPhrase)) {
                            translated.push(dictionary.get(cleanPhrase));
                            i += len - 1; // Skip processed words
                            break;
                        }
                    }
                    
                    if (len === 1) {
                        // Single word translation
                        const translation = dictionary.get(cleanWord);
                        translated.push(translation || word);
                    }
                }
            }
            
            return translated.join(' ');
        }
        
        // Advanced French to Hindi transliteration
        function transliterateFrenchToHindi(frenchText) {
            const lowerText = frenchText.toLowerCase();
            
            // Check for exact word mappings first
            const words = lowerText.split(/\s+/);
            const transliterated = [];
            
            for (let word of words) {
                const cleanWord = word.replace(/[.,!?;()'"]/g, '');
                
                // Use pre-mapped transliterations for accuracy
                if (frenchWordToHindi[cleanWord]) {
                    transliterated.push(frenchWordToHindi[cleanWord]);
                } else {
                    // Phonetic transliteration for unknown words
                    let result = '';
                    const wordText = cleanWord;
                    
                    for (let i = 0; i < wordText.length; i++) {
                        const char = wordText[i];
                        const next1 = wordText[i + 1] || '';
                        const next2 = wordText[i + 2] || '';
                        const prev1 = wordText[i - 1] || '';
                        
                        // Handle French phonetic patterns
                        if (char === 't' && next1 === 'i' && next2 === 'o' && wordText.includes('tion')) {
                            result += '‡§∏‡•ç‡§Ø‡•â‡§Ç';
                            i += 3; // Skip 'tion'
                        } else if (char === 's' && next1 === 'i' && next2 === 'o' && wordText.includes('sion')) {
                            result += '‡§ú‡§º‡•ç‡§Ø‡•â‡§Ç';
                            i += 3; // Skip 'sion'
                        } else if (char === 'e' && next1 === 'u') {
                            result += '‡•Ö';
                            i++; // Skip 'u'
                        } else if (char === 'o' && next1 === 'u') {
                            result += '‡§ä';
                            i++; // Skip 'u'
                        } else if (char === 'a' && next1 === 'i') {
                            result += '‡§è';
                            i++; // Skip 'i'
                        } else if (char === 'o' && next1 === 'i') {
                            result += '‡§µ‡§æ';
                            i++; // Skip 'i'
                        } else if (char === 'c' && next1 === 'h') {
                            result += '‡§∂';
                            i++; // Skip 'h'
                        } else if (char === 'p' && next1 === 'h') {
                            result += '‡§´';
                            i++; // Skip 'h'
                        } else if (char === 't' && next1 === 'h') {
                            result += '‡§•';
                            i++; // Skip 'h'
                        } else if (char === 'g' && next1 === 'n') {
                            result += '‡§®‡•ç‡§Ø';
                            i++; // Skip 'n'
                        } else if (char === 'a' && next1 === 'n' && (i + 2 >= wordText.length || !isVowel(next2))) {
                            result += '‡§Ü‡§Ç';
                            i++; // Skip 'n'
                        } else if (char === 'e' && next1 === 'n' && (i + 2 >= wordText.length || !isVowel(next2))) {
                            result += '‡§Ü‡§Ç';
                            i++; // Skip 'n'
                        } else if (char === 'i' && next1 === 'n' && (i + 2 >= wordText.length || !isVowel(next2))) {
                            result += '‡§ê‡§Ç';
                            i++; // Skip 'n'
                        } else if (char === 'o' && next1 === 'n' && (i + 2 >= wordText.length || !isVowel(next2))) {
                            result += '‡§ë‡§Ç';
                            i++; // Skip 'n'
                        } else if (char === 'u' && next1 === 'n' && (i + 2 >= wordText.length || !isVowel(next2))) {
                            result += '‡§Ö‡§Ç';
                            i++; // Skip 'n'
                        } else if (char === ' ') {
                            result += ' ';
                        } else if (char === '-') {
                            result += '-';
                        } else if (char === '\'') {
                            // Skip apostrophes in French
                            continue;
                        } else {
                            // Individual character mapping
                            const mapping = frenchPhonemeToHindi[char];
                            if (mapping) {
                                result += mapping;
                            } else {
                                // Fallback mappings
                                switch(char) {
                                    case 'a': result += '‡§Ü'; break;
                                    case 'e': result += i === wordText.length - 1 ? '' : '‡§è'; break; // Silent final 'e'
                                    case 'i': result += '‡§à'; break;
                                    case 'o': result += '‡§ì'; break;
                                    case 'u': result += '‡§ä'; break;
                                    case 'y': result += '‡§à'; break;
                                    case 'b': result += '‡§¨'; break;
                                    case 'c': result += '‡§ï'; break;
                                    case 'd': result += '‡§¶'; break;
                                    case 'f': result += '‡§´'; break;
                                    case 'g': result += '‡§ó'; break;
                                    case 'h': result += '‡§π'; break;
                                    case 'j': result += '‡§ù'; break;
                                    case 'k': result += '‡§ï'; break;
                                    case 'l': result += '‡§≤'; break;
                                    case 'm': result += '‡§Æ'; break;
                                    case 'n': result += '‡§®'; break;
                                    case 'p': result += '‡§™'; break;
                                    case 'q': result += '‡§ï'; break;
                                    case 'r': result += '‡§∞'; break;
                                    case 's': result += '‡§∏'; break;
                                    case 't': result += '‡§§'; break;
                                    case 'v': result += '‡§µ'; break;
                                    case 'w': result += '‡§µ'; break;
                                    case 'x': result += '‡§ï‡•ç‡§∏'; break;
                                    case 'z': result += '‡§ú‡§º'; break;
                                    default: result += char; break;
                                }
                            }
                        }
                    }
                    transliterated.push(result);
                }
            }
            
            return transliterated.join(' ');
        }
        
        // Helper function
        function isVowel(char) {
            return 'aeiou√†√°√¢√§√®√©√™√´√¨√≠√Æ√Ø√≤√≥√¥√∂√π√∫√ª√º'.includes(char?.toLowerCase());
        }
        
        // Main processing function
        function processText() {
            const inputText = document.getElementById('textInput').value.trim();
            
            if (!inputText) {
                alert('Please enter some text to translate!');
                return;
            }
            
            // Detect language
            currentLanguage = detectLanguage(inputText);
            currentOriginalText = inputText;
            
            // Update language detector
            const langDisplay = currentLanguage === 'french' ? 'French üá´üá∑' : 'English üá¨üáß';
            document.getElementById('detectedLang').textContent = langDisplay;
            document.getElementById('languageDetector').style.display = 'block';
            
            // Display original text
            document.getElementById('originalOutput').innerHTML = 
                `<strong style="font-size: 18px;">${inputText}</strong><br><small>Detected as: ${langDisplay}</small>`;
            
            // Translate
            if (currentLanguage === 'french') {
                // French to English
                currentTranslation = translateSentence(inputText, 'french');
                document.getElementById('translationHeader').innerHTML = 'üá¨üáß English Translation';
                
                // Show Hindi transliteration for French input
                const hindiTranslit = transliterateFrenchToHindi(inputText);
                document.getElementById('hindiTransliteration').innerHTML = hindiTranslit;
                document.getElementById('transliterationCard').style.display = 'block';
                
            } else {
                // English to French
                currentTranslation = translateSentence(inputText, 'english');
                document.getElementById('translationHeader').innerHTML = 'üá´üá∑ French Translation';
                
                // Show Hindi transliteration for French translation
                const hindiTranslit = transliterateFrenchToHindi(currentTranslation);
                document.getElementById('hindiTransliteration').innerHTML = hindiTranslit;
                document.getElementById('transliterationCard').style.display = 'block';
            }
            
            // Display translation
            document.getElementById('translationOutput').innerHTML = 
                `<strong style="font-size: 18px;">${currentTranslation}</strong>`;
            
            // Enable audio buttons
            document.getElementById('speakOriginalBtn').disabled = false;
            document.getElementById('speakTranslationBtn').disabled = false;
        }
        
        // Speech functions
        function speakOriginal() {
            if (currentOriginalText && 'speechSynthesis' in window) {
                speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(currentOriginalText);
                utterance.lang = currentLanguage === 'french' ? 'fr-FR' : 'en-US';
                utterance.rate = 0.7;
                utterance.pitch = 1.0;
                
                const btn = document.getElementById('speakOriginalBtn');
                btn.textContent = 'üîä Speaking...';
                
                utterance.onend = () => {
                    btn.textContent = 'üîä Speak Original';
                };
                
                speechSynthesis.speak(utterance);
            }
        }
        
        function speakTranslation() {
            if (currentTranslation && 'speechSynthesis' in window) {
                speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(currentTranslation);
                utterance.lang = currentLanguage === 'french' ? 'en-US' : 'fr-FR';
                utterance.rate = 0.7;
                utterance.pitch = 1.0;
                
                const btn = document.getElementById('speakTranslationBtn');
                btn.textContent = 'üó£Ô∏è Speaking...';
                
                utterance.onend = () => {
                    btn.textContent = 'üó£Ô∏è Speak Translation';
                };
                
                speechSynthesis.speak(utterance);
            }
        }
        
        // Clear all fields
        function clearAll() {
            document.getElementById('textInput').value = '';
            document.getElementById('originalOutput').innerHTML = 'Your input will appear here...';
            document.getElementById('translationOutput').innerHTML = 'Translation will appear here...';
            document.getElementById('hindiTransliteration').innerHTML = 'Hindi pronunciation guide will appear here...';
            document.getElementById('languageDetector').style.display = 'none';
            document.getElementById('transliterationCard').style.display = 'none';
            document.getElementById('speakOriginalBtn').disabled = true;
            document.getElementById('speakTranslationBtn').disabled = true;
            currentOriginalText = '';
            currentTranslation = '';
        }
        
        // Auto-translate on input
        let debounceTimer;
        document.getElementById('textInput').addEventListener('input', function() {
            clearTimeout(debounceTimer);
            debounceTimer = setTimeout(() => {
                if (this.value.trim()) processText();
            }, 1000);
        });
        
        // Initialize when page loads
        window.addEventListener('load', function() {
            initDictionary();
            
            // Set a good example
            setTimeout(() => {
                document.getElementById('textInput').value = 'Bonjour, comment allez-vous aujourd\'hui?';
                processText();
            }, 500);
        });
    </script>
</body>
</html>
